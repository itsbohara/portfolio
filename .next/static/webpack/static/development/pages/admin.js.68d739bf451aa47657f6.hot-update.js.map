{"version":3,"file":"static/webpack/static\\development\\pages\\admin.js.68d739bf451aa47657f6.hot-update.js","sources":["webpack:///./context/authContext.tsx"],"sourcesContent":["import React from 'react'\r\n\r\nexport type TDispatch = React.Dispatch<React.SetStateAction<any>>\r\n\r\nexport type TAuthState = {\r\n    signedIn: boolean\r\n    email?: string\r\n    password?: string\r\n    idToken?: string\r\n}\r\n\r\nexport type TAuthActions = \r\n| ({ type: 'signin', payload: { email: string, password: string, idToken: string } })\r\n| ({ type: 'signout' })\r\n\r\nexport const initialAuthState: TAuthState = {\r\n    signedIn: false\r\n}\r\n\r\nconst signIn = (state: TAuthState, action: TAuthActions): TAuthState => {\r\n    if (action.type !== 'signin') return { ...state }\r\n    \r\n    const updatedState: TAuthState = {\r\n        ...state,\r\n        signedIn: true,\r\n        email: action.payload?.email,\r\n        password: action.payload?.password,\r\n        idToken: action.payload?.idToken,\r\n    }\r\n\r\n    return {\r\n        ...updatedState\r\n    }\r\n}\r\n\r\nconst authReducer = (state: TAuthState = initialAuthState, action: TAuthActions): TAuthState => {\r\n    switch (action.type) {\r\n        case 'signin':\r\n            return signIn(state, action)\r\n\r\n        case 'signout':\r\n            return {\r\n                signedIn: false\r\n            }\r\n    \r\n        default:\r\n            return { ...state }\r\n    }\r\n}\r\n\r\nexport interface IAuthContext {\r\n    state: TAuthState,\r\n    dispatch?: TDispatch\r\n}\r\n\r\nexport const AuthContext = React.createContext<IAuthContext>({ state: initialAuthState })\r\n\r\ninterface IAuthProvider {\r\n    children: any\r\n}\r\n\r\nexport const AuthProvider: React.FunctionComponent<IAuthProvider> = ({ children }) => {\r\n    const[state, dispatch] = React.useReducer(authReducer, initialAuthState)\r\n\r\n\r\n    return (\r\n        <AuthContext.Provider value={{state, dispatch}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAeA;AACA;AADA;AACA;AAGA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AALA;AACA;AAOA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AAVA;AAYA;AACA;AAMA;AAAA;AAAA;AAMA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;A","sourceRoot":""}