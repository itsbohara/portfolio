{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Cover from '../../components/Cover/Cover';\nimport Layout from '../../components/UI/Layout/Layout';\nimport Content from '../../components/Content/Content';\nimport { CubeSpinner } from '../../components/UI/Spinner/Spinner';\n\nvar css = require('./index.module.css');\n\nvar Home = function Home() {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      bgLoaded = _React$useState2[0],\n      setBgLoaded = _React$useState2[1];\n\n  React.useEffect(function () {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.register('/service-worker.js').then(function (registration) {\n        console.log('service worker registration successful');\n      })[\"catch\"](function (err) {\n        console.warn('service worker registration failed', err.message);\n      });\n    } // check if bg image is already cached\n    // if yes, set as loaded\n\n\n    var image = new Image();\n    image.src = '/images/palm.png';\n    if (image.complete) setBgLoaded(true);\n  }, []);\n  return __jsx(React.Fragment, null, !bgLoaded && __jsx(Loading, null), __jsx(Layout, null, __jsx(Cover, {\n    load: function load() {\n      return setBgLoaded(true);\n    }\n  }), bgLoaded && __jsx(Content, null)));\n};\n\nvar Loading = function Loading() {\n  return __jsx(\"div\", {\n    className: css.Loading\n  }, __jsx(CubeSpinner, null));\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/jouna/code/portfolio/containers/Home/Home.tsx"],"names":["React","Cover","Layout","Content","CubeSpinner","css","require","Home","useState","bgLoaded","setBgLoaded","useEffect","navigator","serviceWorker","register","then","registration","console","log","err","warn","message","image","Image","src","complete","Loading"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,SAASC,WAAT,QAA4B,qCAA5B;;AAEA,IAAMC,GAAG,GAAGC,OAAO,CAAC,oBAAD,CAAnB;;AAEA,IAAMC,IAAc,GAAG,SAAjBA,IAAiB,GAAmB;AAAA,wBACNP,KAAK,CAACQ,QAAN,CAAwB,KAAxB,CADM;AAAA;AAAA,MAC/BC,QAD+B;AAAA,MACrBC,WADqB;;AAGtCV,EAAAA,KAAK,CAACW,SAAN,CAAgB,YAAM;AAClB,QAAI,mBAAmBC,SAAvB,EAAkC;AAC9BA,MAAAA,SAAS,CAACC,aAAV,CACKC,QADL,CACc,oBADd,EAEKC,IAFL,CAEU,UAAAC,YAAY,EAAI;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ;AACH,OAJL,WAKW,UAAAC,GAAG,EAAI;AACVF,QAAAA,OAAO,CAACG,IAAR,CAAa,oCAAb,EAAmDD,GAAG,CAACE,OAAvD;AACP,OAPD;AAQH,KAViB,CAYlB;AACA;;;AACA,QAAMC,KAAK,GAAG,IAAIC,KAAJ,EAAd;AACAD,IAAAA,KAAK,CAACE,GAAN,GAAY,kBAAZ;AACA,QAAIF,KAAK,CAACG,QAAV,EAAoBf,WAAW,CAAC,IAAD,CAAX;AACvB,GAjBD,EAiBG,EAjBH;AAmBA,SACI,4BACM,CAACD,QAAD,IAAa,MAAC,OAAD,OADnB,EAEI,MAAC,MAAD,QACI,MAAC,KAAD;AAAO,IAAA,IAAI,EAAE;AAAA,aAAMC,WAAW,CAAC,IAAD,CAAjB;AAAA;AAAb,IADJ,EAEMD,QAAQ,IAAI,MAAC,OAAD,OAFlB,CAFJ,CADJ;AASH,CA/BD;;AAiCA,IAAMiB,OAAgC,GAAG,SAAnCA,OAAmC,GAAmB;AACxD,SACI;AAAK,IAAA,SAAS,EAAErB,GAAG,CAACqB;AAApB,KACI,MAAC,WAAD,OADJ,CADJ;AAKH,CAND;;AAQA,eAAenB,IAAf","sourcesContent":["import React from 'react'\r\n\r\nimport {Â NextPage } from 'next'\r\nimport Cover from '../../components/Cover/Cover'\r\nimport Layout from '../../components/UI/Layout/Layout'\r\nimport Content from '../../components/Content/Content'\r\nimport { CubeSpinner } from '../../components/UI/Spinner/Spinner'\r\n\r\nconst css = require('./index.module.css')\r\n\r\nconst Home: NextPage = (): JSX.Element => {\r\n    const [bgLoaded, setBgLoaded] = React.useState<boolean>(false)\r\n\r\n    React.useEffect(() => {\r\n        if ('serviceWorker' in navigator) {\r\n            navigator.serviceWorker\r\n                .register('/service-worker.js')\r\n                .then(registration => {\r\n                    console.log('service worker registration successful')\r\n                })\r\n                .catch(err => {\r\n                    console.warn('service worker registration failed', err.message)\r\n            })\r\n        }\r\n\r\n        // check if bg image is already cached\r\n        // if yes, set as loaded\r\n        const image = new Image()\r\n        image.src = '/images/palm.png'\r\n        if (image.complete) setBgLoaded(true)\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            { !bgLoaded && <Loading /> }\r\n            <Layout>\r\n                <Cover load={() => setBgLoaded(true)} />\r\n                { bgLoaded && <Content /> }\r\n            </Layout>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Loading: React.FunctionComponent = (): JSX.Element => {\r\n    return (\r\n        <div className={css.Loading}>\r\n            <CubeSpinner />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home"]},"metadata":{},"sourceType":"module"}